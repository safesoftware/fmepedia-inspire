function FMEServer(e,t,s,o){this.svrHost=e,this.svrPort=s||"80",this.token=t,this.isSSL=o||!1}function getParams(e,t,s){var o="http://"+this.svrHost+":"+this.svrPort+"/fmerest/repositories/"+e+"/"+t+"/parameters.json?token="+this.token;_ajax(o,function(e){s(e.serviceResponse.parameters)})}function getSessionID(e,t,s){var o="http://"+this.svrHost+"/fmedataupload/"+e+"/"+t+"?opt_extractarchive=false&opt_pathlevel=3&opt_fullpath=true";_ajax(o,function(e){s(e.serviceResponse.session)})}function getWebSocketConnection(e){var t=new WebSocket("ws://"+svrHost+":7078/websocket");return t.onopen=function(){var s={ws_op:"open",ws_stream_id:e};t.send(JSON.stringify(s))},t}function _ajax(e,t,s){var o=s||"GET",n=new XMLHttpRequest;n.open(o,e,!0);var r=null;n.onreadystatechange=function(){var e=4,s=200;n.readyState==e&&n.status==s&&(r=JSON.parse(n.responseText),t(r))},n.send(null)}FMEServer.prototype.getParams=getParams,FMEServer.prototype.getSessionID=getSessionID,FMEServer.prototype.getWebSocketConnection=getWebSocketConnection,FMEServer.prototype._ajax=_ajax;